<!DOCTYPE html>
<html>
<head>

    <title>Quick Start - Leaflet</title>

    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <link rel="shortcut icon" type="image/x-icon" href="docs/images/favicon.ico" />
    <link rel="stylesheet" href="file:///android_asset/leaflet.css"/>
    <link rel="stylesheet" href="file:///android_asset/style.css" >
    <script src="file:///android_asset/leaflet.js" ></script>



</head>
<body>



<div id="map"></div>

<script>

var mymap = L.map('map').setView([48.864716, 2.349014], 13);

var myMarker;
var Error;

L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw', {
maxZoom: 18,
attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, ' +
'<a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, ' +
'Imagery Â© <a href="https://www.mapbox.com/">Mapbox</a>',
id: 'mapbox.streets'
}).addTo(mymap);


mymap.locate({setView: true, watch: true, timeout: 100000}) /* This will return map so you can do chaining */
        .on('locationfound', function(e){
            if(myMarker != null){
                mymap.removeLayer(myMarker)
            }
            myMarker = new L.Marker(e.latlng).bindPopup("vous");
            mymap.addLayer(myMarker).openPopup();
        })
       .on('locationerror', function(e){
            console.log("locationError : "+e);
            alert(e.message);
            Error = e;
        });

</script>


</body>

</html>